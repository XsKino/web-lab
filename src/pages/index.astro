---
import Body from '@layouts/Body.astro'
import NavBar from '@components/NavBar'
import ProjectCard from '@components/ProjectCard.tsx'
import RotatingIcon from '@components/RotatingIcon.astro'

import projects from '@data/projects'
---

<Body title="Kino's Web Lab" class='dark flex flex-col [background-image:var(--gradient)] bg-cover bg-fixed'>
  <header id='header' class='h-[85vh] flex flex-col relative overflow-hidden'>
    <div class='md:absolute border-l-3 m-4 border-primary p-2 animate-appearance-in'>
      <h1 class='font-semibold text-lg md:text-2xl'>Kino's Web Lab</h1>
      <section id='socials md:text-xl'>xd xd xd</section>
    </div>
    <div class='flex flex-1 flex-col md:flex-row-reverse items-center'>
      <RotatingIcon class='h-full w-full flex-4 md:flex-1' />
      <div class='flex-1 p-4 md:p-20 md:pr-0 md:max-w-[50vw]'>
        <div
          class='flex flex-col gap-2 md:gap-4 text-center md:text-end md:p-10 md:border-r-5 md:border-primary'>
          <h1 class='font-bold text-2xl md:text-3xl'>Welcome!</h1>
          <p class='text-lg md:2xl'>
            Have fun exploring over {Math.floor((projects.length - 1) / 5) * 5} interesting front-end projects
            made with different technologies!
          </p>
          <p class='text-lg md:2xl hidden md:inline'>
            I intend to make this website a place to showcase some cool capabilities of the web platform, and
            to inspire others to do the same, specially people who are just starting out.
          </p>
        </div>
      </div>
    </div>
  </header>
  <main>
    <NavBar client:load />
    <div id='tests' class='w-full bg-background'>
      <div class='w-full md:max-w-[80%] m-auto'>
        <h1
          class='p-4 text-2xl md:text-4xl w-full bg-gradient-to-r from-[#fff2] to-transparent md:rounded-l-md'>
          Projects
        </h1>
        <section id='project-grid' class='grid p-4 gap-4'>
          {
            projects.map(project => (
              <ProjectCard
                transition:name={`test-${project.test}`}
                client:only='react'
                test={project.test}
                title={project.title}
                image={project.image}
                href={project.href}
              />
            ))
          }
        </section>
      </div>
    </div>
    <hr class='bg-transparent h-[8vh] border-none' />
  </main>
  <footer class='min-h-[92vh]' id='about'>about</footer>
</Body>

<style>
  #project-grid {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }

  @media screen and (min-width: 460px) {
    #project-grid {
      grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
    }
  }
</style>
